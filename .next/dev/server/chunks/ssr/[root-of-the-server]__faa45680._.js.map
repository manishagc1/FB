{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///C:/Developer/API/FB/FB/app/%28auth%29/schema.ts"],"sourcesContent":["import { z } from \"zod\";\n\nexport const loginSchema = z.object({\n  email: z.string().email(\"Please enter a valid email\"),\n  password: z.string().min(6, \"Password must be at least 6 characters\"),\n});\nexport type LoginData = z.infer<typeof loginSchema>;\n\nexport const registerSchema = z\n  .object({\n    name: z.string().min(2, \"Name must be at least 2 characters\"),\n    email: z.string().email(\"Please enter a valid email\"),\n    password: z.string().min(6, \"Password must be at least 6 characters\"),\n    confirmPassword: z.string().min(6, \"Confirm your password\"),\n  })\n  .refine((data) => data.password === data.confirmPassword, {\n    message: \"Passwords do not match\",\n    path: [\"confirmPassword\"],\n  });\n\nexport type RegisterData = z.infer<typeof registerSchema>;"],"names":[],"mappings":";;;;;;AAAA;;AAEO,MAAM,cAAc,wLAAC,CAAC,MAAM,CAAC;IAClC,OAAO,wLAAC,CAAC,MAAM,GAAG,KAAK,CAAC;IACxB,UAAU,wLAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;AAC9B;AAGO,MAAM,iBAAiB,wLAAC,CAC5B,MAAM,CAAC;IACN,MAAM,wLAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;IACxB,OAAO,wLAAC,CAAC,MAAM,GAAG,KAAK,CAAC;IACxB,UAAU,wLAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;IAC5B,iBAAiB,wLAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;AACrC,GACC,MAAM,CAAC,CAAC,OAAS,KAAK,QAAQ,KAAK,KAAK,eAAe,EAAE;IACxD,SAAS;IACT,MAAM;QAAC;KAAkB;AAC3B"}},
    {"offset": {"line": 49, "column": 0}, "map": {"version":3,"sources":["file:///C:/Developer/API/FB/FB/lib/actions/auth-actions.ts"],"sourcesContent":["\"use server\";\n\nimport { loginUser, registerUser } from \"@/lib/api/auth\";\nimport { cookies } from \"next/headers\";\n\ntype RegisterFormData = {\n  name: string;\n  email: string;\n  password: string;\n  confirmPassword: string;\n};\n\ntype LoginFormData = {\n  email: string;\n  password: string;\n};\n\n// Register\nexport const handleRegister = async (formData: RegisterFormData) => {\n  try {\n    const res = await registerUser(formData);\n    return {\n      success: true,\n      message: res.message,\n      data: res.data,\n    };\n  } catch (err: unknown) {\n    return {\n      success: false,\n      message: err instanceof Error ? err.message : \"Something went wrong\",\n    };\n  }\n};\n\n// Login\nexport const handleLogin = async (formData: LoginFormData) => {\n  try {\n    const res = await loginUser(formData);\n\n    // Set cookies\n    const cookieStore = await cookies();\n\n    cookieStore.set(\"token\", res.token, {\n      httpOnly: true,\n      secure: process.env.NODE_ENV === \"production\",\n      path: \"/\",\n      maxAge: 60 * 60 * 24, // 1 day\n    });\n\n    cookieStore.set(\"user\", JSON.stringify(res.data), {\n      httpOnly: false,\n      path: \"/\",\n      maxAge: 60 * 60 * 24,\n    });\n\n    return {\n      success: true,\n      message: res.message,\n      data: res.data,\n    };\n  } catch (err: unknown) {\n    return {\n      success: false,\n      message: err instanceof Error ? err.message : \"Something went wrong\",\n    };\n  }\n};\n"],"names":[],"mappings":";;;;;;;MAkBa,wBAAA,WAAA,GAAA,IAAA,qPAAA,EAAA,8CAAA,0OAAA,EAAA,KAAA,GAAA,gPAAA,EAAA,kDAAA"}},
    {"offset": {"line": 63, "column": 0}, "map": {"version":3,"sources":["file:///C:/Developer/API/FB/FB/app/%28auth%29/register/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useForm } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport Link from \"next/link\";\nimport { useTransition, useState } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { RegisterData, registerSchema } from \"../schema\";\nimport { handleRegister } from \"@/lib/actions/auth-actions\";\nimport { User, Mail, Lock, Loader2 } from \"lucide-react\";\n\nexport default function RegisterPage() {\n  const router = useRouter();\n  const [serverError, setServerError] = useState(\"\");\n  const [pending, startTransition] = useTransition();\n\n  const {\n    register,\n    handleSubmit,\n    formState: { errors, isSubmitting },\n  } = useForm<RegisterData>({\n    resolver: zodResolver(registerSchema),\n  });\n\n  const submit = (values: RegisterData) => {\n    setServerError(\"\");\n\n    startTransition(async () => {\n      const res = await handleRegister(values);\n      res.success ? router.push(\"/login\") : setServerError(res.message);\n    });\n  };\n\n  return (\n    <>\n      {/* Header */}\n      <h1 className=\"text-2xl font-bold text-white/1000 text-center mb-1\">\n        Create your account ðŸš€\n      </h1>\n      <p className=\"text-sm text-center text-white/100 mb-6\">\n        Sign up to get started!\n      </p>\n\n      {/* Server Error */}\n      {serverError && (\n        <div className=\"mb-4 rounded-lg bg-red-100 text-red-600 px-4 py-2 text-sm\">\n          {serverError}\n        </div>\n      )}\n\n      <form onSubmit={handleSubmit(submit)} className=\"space-y-4\">\n        {/* Name */}\n        <div>\n          <div className=\"relative\">\n            <User className=\"absolute left-3 top-3 h-5 w-5 text-gray-400\" />\n            <input\n              {...register(\"name\")}\n              placeholder=\"Full name\"\n              className=\"h-11 w-full pl-10 rounded-lg border\"\n            />\n          </div>\n          {errors.name && (\n            <p className=\"text-xs text-red-500 mt-1\">\n              {errors.name.message}\n            </p>\n          )}\n        </div>\n\n        {/* Email */}\n        <div>\n          <div className=\"relative\">\n            <Mail className=\"absolute left-3 top-3 h-5 w-5 text-gray-400\" />\n            <input\n              {...register(\"email\")}\n              placeholder=\"Email address\"\n              className=\"h-11 w-full pl-10 rounded-lg border\"\n            />\n          </div>\n          {errors.email && (\n            <p className=\"text-xs text-red-500 mt-1\">\n              {errors.email.message}\n            </p>\n          )}\n        </div>\n\n        {/* Password */}\n        <div>\n          <div className=\"relative\">\n            <Lock className=\"absolute left-3 top-3 h-5 w-5 text-gray-400\" />\n            <input\n              type=\"password\"\n              {...register(\"password\")}\n              placeholder=\"Password\"\n              className=\"h-11 w-full pl-10 rounded-lg border\"\n            />\n          </div>\n          {errors.password && (\n            <p className=\"text-xs text-red-500 mt-1\">\n              {errors.password.message}\n            </p>\n          )}\n        </div>\n\n        {/* Confirm Password */}\n        <div>\n          <div className=\"relative\">\n            <Lock className=\"absolute left-3 top-3 h-5 w-5 text-gray-400\" />\n            <input\n              type=\"password\"\n              {...register(\"confirmPassword\")}\n              placeholder=\"Confirm password\"\n              className=\"h-11 w-full pl-10 rounded-lg border\"\n            />\n          </div>\n          {errors.confirmPassword && (\n            <p className=\"text-xs text-red-500 mt-1\">\n              {errors.confirmPassword.message}\n            </p>\n          )}\n        </div>\n\n        {/* Button */}\n        <button\n          type=\"submit\"\n          disabled={pending || isSubmitting}\n          className=\"h-11 w-full rounded-lg bg-violet-600 text-white font-semibold flex items-center justify-center gap-2 disabled:opacity-60\"\n        >\n          {(pending || isSubmitting) && (\n            <Loader2 className=\"h-4 w-4 animate-spin\" />\n          )}\n          Create account\n        </button>\n\n        {/* Footer */}\n        <p className=\"text-center text-sm\">\n          Already have an account?{\" \"}\n          <Link href=\"/login\" className=\"text-violet-600 font-semibold\">\n            Log in\n          </Link>\n        </p>\n      </form>\n    </>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AATA;;;;;;;;;;AAWe,SAAS;IACtB,MAAM,SAAS,IAAA,qJAAS;IACxB,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,uNAAQ,EAAC;IAC/C,MAAM,CAAC,SAAS,gBAAgB,GAAG,IAAA,4NAAa;IAEhD,MAAM,EACJ,QAAQ,EACR,YAAY,EACZ,WAAW,EAAE,MAAM,EAAE,YAAY,EAAE,EACpC,GAAG,IAAA,+KAAO,EAAe;QACxB,UAAU,IAAA,mLAAW,EAAC,iJAAc;IACtC;IAEA,MAAM,SAAS,CAAC;QACd,eAAe;QAEf,gBAAgB;YACd,MAAM,MAAM,MAAM,IAAA,8KAAc,EAAC;YACjC,IAAI,OAAO,GAAG,OAAO,IAAI,CAAC,YAAY,eAAe,IAAI,OAAO;QAClE;IACF;IAEA,qBACE;;0BAEE,oPAAC;gBAAG,WAAU;0BAAsD;;;;;;0BAGpE,oPAAC;gBAAE,WAAU;0BAA0C;;;;;;YAKtD,6BACC,oPAAC;gBAAI,WAAU;0BACZ;;;;;;0BAIL,oPAAC;gBAAK,UAAU,aAAa;gBAAS,WAAU;;kCAE9C,oPAAC;;0CACC,oPAAC;gCAAI,WAAU;;kDACb,oPAAC,gNAAI;wCAAC,WAAU;;;;;;kDAChB,oPAAC;wCACE,GAAG,SAAS,OAAO;wCACpB,aAAY;wCACZ,WAAU;;;;;;;;;;;;4BAGb,OAAO,IAAI,kBACV,oPAAC;gCAAE,WAAU;0CACV,OAAO,IAAI,CAAC,OAAO;;;;;;;;;;;;kCAM1B,oPAAC;;0CACC,oPAAC;gCAAI,WAAU;;kDACb,oPAAC,gNAAI;wCAAC,WAAU;;;;;;kDAChB,oPAAC;wCACE,GAAG,SAAS,QAAQ;wCACrB,aAAY;wCACZ,WAAU;;;;;;;;;;;;4BAGb,OAAO,KAAK,kBACX,oPAAC;gCAAE,WAAU;0CACV,OAAO,KAAK,CAAC,OAAO;;;;;;;;;;;;kCAM3B,oPAAC;;0CACC,oPAAC;gCAAI,WAAU;;kDACb,oPAAC,gNAAI;wCAAC,WAAU;;;;;;kDAChB,oPAAC;wCACC,MAAK;wCACJ,GAAG,SAAS,WAAW;wCACxB,aAAY;wCACZ,WAAU;;;;;;;;;;;;4BAGb,OAAO,QAAQ,kBACd,oPAAC;gCAAE,WAAU;0CACV,OAAO,QAAQ,CAAC,OAAO;;;;;;;;;;;;kCAM9B,oPAAC;;0CACC,oPAAC;gCAAI,WAAU;;kDACb,oPAAC,gNAAI;wCAAC,WAAU;;;;;;kDAChB,oPAAC;wCACC,MAAK;wCACJ,GAAG,SAAS,kBAAkB;wCAC/B,aAAY;wCACZ,WAAU;;;;;;;;;;;;4BAGb,OAAO,eAAe,kBACrB,oPAAC;gCAAE,WAAU;0CACV,OAAO,eAAe,CAAC,OAAO;;;;;;;;;;;;kCAMrC,oPAAC;wBACC,MAAK;wBACL,UAAU,WAAW;wBACrB,WAAU;;4BAET,CAAC,WAAW,YAAY,mBACvB,oPAAC,kOAAO;gCAAC,WAAU;;;;;;4BACnB;;;;;;;kCAKJ,oPAAC;wBAAE,WAAU;;4BAAsB;4BACR;0CACzB,oPAAC,6KAAI;gCAAC,MAAK;gCAAS,WAAU;0CAAgC;;;;;;;;;;;;;;;;;;;;AAOxE"}}]
}