{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Developer/API/FB/FB/app/%28auth%29/schema.ts"],"sourcesContent":["import { z } from \"zod\";\n\nexport const loginSchema = z.object({\n  email: z.string().email(\"Please enter a valid email\"),\n  password: z.string().min(6, \"Password must be at least 6 characters\"),\n});\nexport type LoginData = z.infer<typeof loginSchema>;\n\nexport const registerSchema = z\n  .object({\n    name: z.string().min(2, \"Name must be at least 2 characters\"),\n    email: z.string().email(\"Please enter a valid email\"),\n    password: z.string().min(6, \"Password must be at least 6 characters\"),\n    confirmPassword: z.string().min(6, \"Confirm your password\"),\n  })\n  .refine((data) => data.password === data.confirmPassword, {\n    message: \"Passwords do not match\",\n    path: [\"confirmPassword\"],\n  });\n\nexport type RegisterData = z.infer<typeof registerSchema>;"],"names":[],"mappings":";;;;;;AAAA;;AAEO,MAAM,cAAc,2LAAC,CAAC,MAAM,CAAC;IAClC,OAAO,2LAAC,CAAC,MAAM,GAAG,KAAK,CAAC;IACxB,UAAU,2LAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;AAC9B;AAGO,MAAM,iBAAiB,2LAAC,CAC5B,MAAM,CAAC;IACN,MAAM,2LAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;IACxB,OAAO,2LAAC,CAAC,MAAM,GAAG,KAAK,CAAC;IACxB,UAAU,2LAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;IAC5B,iBAAiB,2LAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;AACrC,GACC,MAAM,CAAC,CAAC,OAAS,KAAK,QAAQ,KAAK,KAAK,eAAe,EAAE;IACxD,SAAS;IACT,MAAM;QAAC;KAAkB;AAC3B"}},
    {"offset": {"line": 34, "column": 0}, "map": {"version":3,"sources":["file:///C:/Developer/API/FB/FB/lib/actions/auth-actions.ts"],"sourcesContent":["\"use server\";\n\nimport { loginUser, registerUser } from \"@/lib/api/auth\";\nimport { cookies } from \"next/headers\";\n\ntype RegisterFormData = {\n  name: string;\n  email: string;\n  password: string;\n  confirmPassword: string;\n};\n\ntype LoginFormData = {\n  email: string;\n  password: string;\n};\n\n// Register\nexport const handleRegister = async (formData: RegisterFormData) => {\n  try {\n    const res = await registerUser(formData);\n    return {\n      success: true,\n      message: res.message,\n      data: res.data,\n    };\n  } catch (err: unknown) {\n    return {\n      success: false,\n      message: err instanceof Error ? err.message : \"Something went wrong\",\n    };\n  }\n};\n\n// Login\nexport const handleLogin = async (formData: LoginFormData) => {\n  try {\n    const res = await loginUser(formData);\n\n    // Set cookies\n    const cookieStore = await cookies();\n\n    cookieStore.set(\"token\", res.token, {\n      httpOnly: true,\n      secure: process.env.NODE_ENV === \"production\",\n      path: \"/\",\n      maxAge: 60 * 60 * 24, // 1 day\n    });\n\n    cookieStore.set(\"user\", JSON.stringify(res.data), {\n      httpOnly: false,\n      path: \"/\",\n      maxAge: 60 * 60 * 24,\n    });\n\n    return {\n      success: true,\n      message: res.message,\n      data: res.data,\n    };\n  } catch (err: unknown) {\n    return {\n      success: false,\n      message: err instanceof Error ? err.message : \"Something went wrong\",\n    };\n  }\n};\n"],"names":[],"mappings":";;;;;;;MAmCa,wBAAA,WAAA,GAAA,IAAA,wPAAA,EAAA,8CAAA,6OAAA,EAAA,KAAA,GAAA,mPAAA,EAAA,+CAAA"}},
    {"offset": {"line": 51, "column": 0}, "map": {"version":3,"sources":["file:///C:/Developer/API/FB/FB/app/%28auth%29/login/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useForm } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport Link from \"next/link\";\nimport { useTransition, useState } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { LoginData, loginSchema } from \"../schema\";\nimport { handleLogin } from \"@/lib/actions/auth-actions\";\nimport { Mail, Lock, Loader2 } from \"lucide-react\";\n\nexport default function LoginPage() {\n  const router = useRouter();\n  const [serverError, setServerError] = useState(\"\");\n  const [pending, startTransition] = useTransition();\n\n  const {\n    register,\n    handleSubmit,\n    formState: { errors, isSubmitting },\n  } = useForm<LoginData>({\n    resolver: zodResolver(loginSchema),\n  });\n\n  const submit = (values: LoginData) => {\n    setServerError(\"\");\n\n    startTransition(async () => {\n      const res = await handleLogin(values);\n      res.success ? router.push(\"/\") : setServerError(res.message);\n    });\n  };\n\n  return (\n  <div className=\"min-h-screen flex items-center justify-center bg-cyan-500 px-4\">\n    <div className=\"w-full max-w-md bg-white rounded-2xl shadow-xl p-6\">\n      <h1 className=\"text-2xl font-bold text-center text-cyan-600 mb-1\">\n        Flight Buddy ✈️\n      </h1>\n      <p className=\"text-sm text-center text-gray-500 mb-6\">\n        Login to continue your journey\n      </p>\n\n      {serverError && (\n        <div className=\"mb-4 rounded-lg bg-red-100 text-red-600 px-4 py-2 text-sm\">\n          {serverError}\n        </div>\n      )}\n\n      <form onSubmit={handleSubmit(submit)} className=\"space-y-4\">\n        {/* Email */}\n        <div>\n          <div className=\"relative\">\n            <Mail className=\"absolute left-3 top-3 h-5 w-5 text-cyan-500\" />\n            <input\n              {...register(\"email\")}\n              placeholder=\"Enter your email\"\n              className=\"h-11 w-full pl-10 rounded-lg border border-cyan-200 focus:outline-none focus:ring-2 focus:ring-cyan-400\"\n            />\n          </div>\n          {errors.email && (\n            <p className=\"text-xs text-red-500 mt-1\">\n              {errors.email.message}\n            </p>\n          )}\n        </div>\n\n        {/* Password */}\n        <div>\n          <div className=\"relative\">\n            <Lock className=\"absolute left-3 top-3 h-5 w-5 text-cyan-500\" />\n            <input\n              type=\"password\"\n              {...register(\"password\")}\n              placeholder=\"Enter your password\"\n              className=\"h-11 w-full pl-10 rounded-lg border border-cyan-200 focus:outline-none focus:ring-2 focus:ring-cyan-400\"\n            />\n          </div>\n          {errors.password && (\n            <p className=\"text-xs text-red-500 mt-1\">\n              {errors.password.message}\n            </p>\n          )}\n        </div>\n\n        <button\n          disabled={pending || isSubmitting}\n          className=\"h-11 w-full rounded-lg bg-cyan-500 hover:bg-cyan-600 text-white font-semibold flex justify-center items-center gap-2 transition\"\n        >\n          {(pending || isSubmitting) && (\n            <Loader2 className=\"h-4 w-4 animate-spin\" />\n          )}\n          Login\n        </button>\n\n        <p className=\"text-center text-sm text-gray-600\">\n          Don’t have an account?{\" \"}\n          <Link\n            href=\"/register\"\n            className=\"text-cyan-600 font-semibold hover:underline\"\n          >\n            Create one\n          </Link>\n        </p>\n      </form>\n    </div>\n  </div>\n);\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;;;AATA;;;;;;;;;AAWe,SAAS;;IACtB,MAAM,SAAS,IAAA,wJAAS;IACxB,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,+KAAQ,EAAC;IAC/C,MAAM,CAAC,SAAS,gBAAgB,GAAG,IAAA,oLAAa;IAEhD,MAAM,EACJ,QAAQ,EACR,YAAY,EACZ,WAAW,EAAE,MAAM,EAAE,YAAY,EAAE,EACpC,GAAG,IAAA,kLAAO,EAAY;QACrB,UAAU,IAAA,sLAAW,EAAC,iJAAW;IACnC;IAEA,MAAM,SAAS,CAAC;QACd,eAAe;QAEf,gBAAgB;YACd,MAAM,MAAM,MAAM,IAAA,8KAAW,EAAC;YAC9B,IAAI,OAAO,GAAG,OAAO,IAAI,CAAC,OAAO,eAAe,IAAI,OAAO;QAC7D;IACF;IAEA,qBACA,mMAAC;QAAI,WAAU;kBACb,cAAA,mMAAC;YAAI,WAAU;;8BACb,mMAAC;oBAAG,WAAU;8BAAoD;;;;;;8BAGlE,mMAAC;oBAAE,WAAU;8BAAyC;;;;;;gBAIrD,6BACC,mMAAC;oBAAI,WAAU;8BACZ;;;;;;8BAIL,mMAAC;oBAAK,UAAU,aAAa;oBAAS,WAAU;;sCAE9C,mMAAC;;8CACC,mMAAC;oCAAI,WAAU;;sDACb,mMAAC,mNAAI;4CAAC,WAAU;;;;;;sDAChB,mMAAC;4CACE,GAAG,SAAS,QAAQ;4CACrB,aAAY;4CACZ,WAAU;;;;;;;;;;;;gCAGb,OAAO,KAAK,kBACX,mMAAC;oCAAE,WAAU;8CACV,OAAO,KAAK,CAAC,OAAO;;;;;;;;;;;;sCAM3B,mMAAC;;8CACC,mMAAC;oCAAI,WAAU;;sDACb,mMAAC,mNAAI;4CAAC,WAAU;;;;;;sDAChB,mMAAC;4CACC,MAAK;4CACJ,GAAG,SAAS,WAAW;4CACxB,aAAY;4CACZ,WAAU;;;;;;;;;;;;gCAGb,OAAO,QAAQ,kBACd,mMAAC;oCAAE,WAAU;8CACV,OAAO,QAAQ,CAAC,OAAO;;;;;;;;;;;;sCAK9B,mMAAC;4BACC,UAAU,WAAW;4BACrB,WAAU;;gCAET,CAAC,WAAW,YAAY,mBACvB,mMAAC,qOAAO;oCAAC,WAAU;;;;;;gCACnB;;;;;;;sCAIJ,mMAAC;4BAAE,WAAU;;gCAAoC;gCACxB;8CACvB,mMAAC,gLAAI;oCACH,MAAK;oCACL,WAAU;8CACX;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQX;GAjGwB;;QACP,wJAAS;QAEW,oLAAa;QAM5C,kLAAO;;;KATW"}}]
}